---
title: API Integration
description: Advanced API integration patterns and best practices
---

# API Integration

Beyond basic iframe embedding, the ToughTongue AI API enables powerful custom integrations.

## Common Integration Patterns

### 1. Server-Side Session Creation

Create sessions programmatically without user interface:

```javascript
const response = await fetch(
  'https://api.toughtongueai.com/api/public/v2/sessions',
  {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer YOUR_API_TOKEN',
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      scenario_id: 'your_scenario_id',
      user_email: 'user@example.com',
      metadata: {
        custom_field: 'value'
      }
    })
  }
);

const session = await response.json();
```

### 2. Batch Processing

Analyze multiple sessions in bulk:

```javascript
const sessionIds = ['session1', 'session2', 'session3'];

const analyses = await Promise.all(
  sessionIds.map(sessionId =>
    fetch('/api/analyze', {
      method: 'POST',
      body: JSON.stringify({ session_id: sessionId })
    }).then(r => r.json())
  )
);
```

### 3. Custom Analytics

Build custom dashboards using the Analytics API:

```javascript
const response = await fetch(
  'https://api.toughtongueai.com/api/public/v2/analytics',
  {
    headers: { 'Authorization': 'Bearer YOUR_API_TOKEN' },
    body: JSON.stringify({
      scenario_ids: ['scenario1', 'scenario2'],
      start_date: '2024-01-01',
      end_date: '2024-01-31',
      metrics: ['completion_rate', 'avg_score', 'user_count']
    })
  }
);

const analytics = await response.json();
```

## Best Practices

<AccordionGroup>
  <Accordion title="1. Implement Webhooks" icon="webhook">
    Instead of polling for session completion, use webhooks to get notified when sessions end.
    
    [Learn more â†’](/guides/webhooks)
  </Accordion>
  
  <Accordion title="2. Cache Aggressively" icon="database">
    - Cache scenario data (changes infrequently)
    - Cache analysis results (never change)
    - Use ETags for conditional requests
  </Accordion>
  
  <Accordion title="3. Handle Failures Gracefully" icon="shield-check">
    - Implement retry logic with exponential backoff
    - Queue failed requests for retry
    - Log errors for monitoring
  </Accordion>
  
  <Accordion title="4. Monitor Usage" icon="chart-line">
    - Track API call volumes
    - Monitor response times
    - Set up alerts for errors
  </Accordion>
</AccordionGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="API Reference" href="/api-reference/overview">
    Complete API documentation
  </Card>
  <Card title="Webhooks" href="/guides/webhooks">
    Real-time event notifications
  </Card>
</CardGroup>
